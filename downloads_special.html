<script language="JavaScript">
<!--
function six_races() {
	mods = 0;
	races = 0;
	selected = "Selected Mods:\n\n";
	race_select = 0;
	for(var i = 0; i < document.forms["beastiary"].elements["race[]"].length; i++) {
		if(document.forms["beastiary"].elements["race[]"][i].checked)
			race_select++;
	}
	if(race_select == 0) race_select = 5;
	var len = document.forms["beastiary"].elements["path[]"].length;
	for(var i = 0; i < len; i++) {
		if(document.forms["beastiary"].elements["path[]"][i].checked) {
			var path = document.forms["beastiary"].elements["path[]"][i].value;
			var paths = path.split("/");
			if(paths[0] == "sets" || paths[0] == "mods") {
				races += race_select;
				selected += path+" ["+race_select+" race(s)]\n";
			}
			else if(paths[0] == "races") {
				races++;
				selected += path+": [1 race]\n";
			}
			mods++;
		}
	}
	if(races > 6 || mods > 6) {
		alert((races>6?"Too many races ["+races+" selected] must be 6 or less!\n\n":"")+(mods>6?"Too many sets/mods/races ["+mods+" selected] must be 6 or less!\n\n":"")+selected);
		return false;
	}
	return true;
}
//-->
</script>
<form name="beastiary" action="" method="get" onsubmit="//if(!six_races()) return false;">
<style type="text/css"><!--
table.srStyles {
	width:100%;
	background-color:black;
}
table.srStyles td {
	text-align:left;
	vertical-align:top;
	font:10px verdana,sans-serif;
	color:white;
}
table.srStyles fieldset {
	padding:5px;
	padding-top:0px;
	border:1px solid #999999;
	height:110px;
}
table.srStyles legend {
	border:1px solid #999999;
	padding:3px;
	margin-bottom:5px;
}
table.srStyles select {
	font:10px verdana,sans-serif;
}
--></style>
<div align=center><fieldset style="text-align:left;width:100%;">
<legend>Show By: Set / Rebalance / Mod</legend>
<table cellpadding=0 cellspacing=0>
<tr>
	<td valign=top width="250"><u><b>Original TA:Kingoms</b></u> <a href="javascript:showNames('units',0)">[show]</a> <a href="javascript:showNames('units',1)">[hide]</a><br><br>
	<?=$lib->panel_units;?>
</td>
	<td valign=top width="250"><u><b>Crusades Balance</b></u> <a href="javascript:showNames('unitscb',0)">[show]</a> <a href="javascript:showNames('unitscb',1)">[hide]</a><br><br>
	<?=$lib->panel_unitscb;?>
</td>
	<td valign=top width="400"><b><u>Race Selection:</u></b> <a href="javascript:showRaces(0)">[show]</a> <a href="javascript:showRaces(1)">[hide]</a><Br /><br />
	<div id="race_Desc/div" style="display:block">(If none are selected, all races are shown --<br />
	-- 3rd party races are enabled automatically)</div>
	<!--block-->
<div id="race_All/div" style="display:block"><input type="checkbox" name="race[]" value="All" checked onclick="clearRaces(true);">Select All</div>
<div id="race_Aramon/div" style="display:block"><input type="checkbox" name="race[]" value="Aramon" checked onclick="clearRaces(false);">Aramon</div>
<div id="race_Veruna/div" style="display:block"><input type="checkbox" name="race[]" value="Veruna" checked onclick="clearRaces(false);">Veruna</div>
<div id="race_Taros/div" style="display:block"><input type="checkbox" name="race[]" value="Taros" checked onclick="clearRaces(false);">Taros</div>
<div id="race_Zhon/div" style="display:block"><input type="checkbox" name="race[]" value="Zhon" checked onclick="clearRaces(false);">Zhon</div>
<div id="race_Creon/div" style="display:block"><input type="checkbox" name="race[]" value="Creon" checked onclick="clearRaces(false);">Creon</div>
<br />
<u><b>Display Options:</b></u> <a href="javascript:showOptions(0)">[show]</a> <a href="javascript:showOptions(1)">[hide]</a><br><br>
<div id="opt_order/div" style="display:block">Order By: <select name="order" onclick="checkSIndex(this)">
<option value="['UNITINFO']['name']">Unit Name</option>
<option value="['UNITINFO']['maxdamage']">Unit Health</option>
<option value="['WEAPON1']['DAMAGE']['default']">Weapon 1 Damage</option>
<option value="">Custom...</option>
</select> <a href="" onclick="alert('You can write a custom order filter by selecting \'Custom\'. You will need some knowledge of how the code of an FBI files looks to use this functions.\n\nThe data you must enter is as follows:\n\n\t[\'<FBI Object>\']...[\'<prop>\']\n\nFor example, to sort the units by name you would put this as the order code:\n\n\t[\'UNITINFO\'][\'name\']\n\nOr if you wanted to sort it by weapon 1 default damage, you would put the following code:\n\n\t[\'WEAPON1\'][\'DAMAGE\'][\'default\']');return false;">["Custom..." Explanation]</a>
<script language="JavaScript">
<!--
function checkSIndex(obj) {
	if(obj[obj.selectedIndex].value == "") {
		var c = prompt("Enter a custom order script:","");
		if(c) {
			obj[obj.length] = new Option(c,c,true,true);
		}
		else {
			obj.selectedIndex = 0;
		}
	}
}
//-->
</script>
<script language="JavaScript">
<!--
function check(text) {
	var paths = document.forms["beastiary"].elements["path[]"];
	for(var i = 0; i < paths.length; i++) {
		if(paths[i].value.indexOf("/"+text) > -1/* && paths[i].value.indexOf("/"+text) + text.length+1 == paths[i].value.length*/) {
			paths[i].checked = !paths[i].checked;
			break;
		}
	}
}
//-->
</script>
</div>
</td>
</tr>
</table>
<!--/block-->
<input type="radio" name="path[]" value="races">All<br />
<input type="radio" name="path[]" value="sets">Sets<br />
<input type="radio" name="path[]" value="mods">Mods<br />
<input type="radio" name="path[]" value="races/aramon">Aramon<br />
<input type="radio" name="path[]" value="races/veruna">Veruna<br />
<input type="radio" name="path[]" value="races/taros">Taros<br />
<input type="radio" name="path[]" value="races/zhon">Zhon<br />
<input type="radio" name="path[]" value="races/creon">Creon<br />
<br />
<IMG SRC="../images/letters/Y.gif" align="left">ou are only allowed to choose 6 <b>races</b> and/or 2 <b>sets/mods</b>  at one time. This means if you choose to show all the races from a given set/mod you are choosing 5 races.<br><br> For Mods that contain a lot of units such as <b>Vaeruns 3rd Party Mod</b> that you want to display them with the option <b>Enable Build Menus</b>, it is recommended to activate only one race at a time, or the Bestiary won't be able to process so many units at a time.<br><br><b>Important:</b> you need to download and install <a href="https://github.com/riquems/tak-enhanced">The Enhanced Launcher</a> to be able to play the new Units, Mods and Races that appear for download on this Bestiary.<br><br /><input type="hidden" value="default" name="action">
<input type="hidden" value="1" name="panel_mode">
<input type="submit" value="Go >>" />

</td>
</tr>
</table>
<script language="JavaScript">
<!--
function six_races() {
	mods = 0;
	races = 0;
	selected = "Selected Mods:\n\n";
	race_select = 0;
	for(var i = 0; i < document.forms["beastiary"].elements["race[]"].length; i++) {
		if(document.forms["beastiary"].elements["race[]"][i].checked)
			race_select++;
	}
	if(race_select == 0) race_select = 5;
	var len = document.forms["beastiary"].elements["path[]"].length;
	for(var i = 0; i < len; i++) {
		if(document.forms["beastiary"].elements["path[]"][i].checked) {
			var path = document.forms["beastiary"].elements["path[]"][i].value;
			var paths = path.split("/");
			if(paths[0] == "sets" || paths[0] == "mods") {
				races += race_select;
				selected += path+" ["+race_select+" race(s)]\n";
			}
			else if(paths[0] == "races") {
				races++;
				selected += path+": [1 race]\n";
			}
			mods++;
		}
	}
	if(races > 6 || mods > 6) {
		alert((races>6?"Too many races ["+races+" selected] must be 6 or less!\n\n":"")+(mods>6?"Too many sets/mods/races ["+mods+" selected] must be 6 or less!\n\n":"")+selected);
		return false;
	}
	return true;
}
//-->
</script>
</fieldset></div>
</form>
